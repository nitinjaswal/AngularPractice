"use strict";(self.webpackChunkClientApp=self.webpackChunkClientApp||[]).push([[514],{9514:(A,f,s)=>{s.r(f),s.d(f,{UserModule:()=>l});var c=s(6895),p=s(2289),n=s(433),e=s(8256),d=s(2807),_=s(7185);function v(r,o){1&r&&(e.TgZ(0,"em"),e._uU(1,"Required"),e.qZA())}function N(r,o){1&r&&(e.TgZ(0,"em"),e._uU(1,"Must startwith a letter"),e.qZA())}function h(r,o){1&r&&(e.TgZ(0,"em"),e._uU(1,"Required"),e.qZA())}const g=function(r){return{error:r}};class a{constructor(o,t,i){this.authService=o,this.router=t,this.toastr=i}ngOnInit(){this.firstName=new n.p4(this.authService.currentuser.firstName,[n.kI.required,n.kI.pattern("[a-zA-Z].*")]),this.lastName=new n.p4(this.authService.currentuser.lastName,n.kI.required),this.profileForm=new n.nJ({firstName:this.firstName,lastName:this.lastName})}saveProfile(o){this.profileForm.valid&&this.authService.updateCurrentUser(o.firstName,o.lastName).subscribe(()=>{this.toastr.success("Profile saved")})}logout(){this.authService.logout().subscribe(()=>{this.router.navigate(["/user/login"])})}cancel(){this.router.navigate(["events"])}validateFirstName(){return console.log(this.firstName),this.firstName.valid||this.firstName.untouched}validateLastName(){return this.lastName.valid||this.lastName.untouched}}function Z(r,o){1&r&&(e.TgZ(0,"em"),e._uU(1,"Required"),e.qZA())}function C(r,o){1&r&&(e.TgZ(0,"em"),e._uU(1,"Required"),e.qZA())}function b(r,o){1&r&&(e.TgZ(0,"div",13),e._uU(1,"Invalid Login Info"),e.qZA())}a.\u0275fac=function(o){return new(o||a)(e.Y36(d.e8),e.Y36(p.F0),e.Y36(_._W))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-profile"]],decls:23,vars:10,consts:[[1,"col-md-4"],["autocomplete","off","novalidate","",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["for","firstName"],[4,"ngIf"],["formControlName","firstName","id","firstName","type","text","placeholder","First Name...",1,"form-control"],["for","lastName"],["formControlName","lastName","id","lastName","type","text","placeholder","Last Name...",1,"form-control"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-default",3,"click"],["type","button",1,"btn","btn-warning",2,"float","right",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div")(1,"h1"),e._uU(2,"Edit Your Profile "),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"div",0)(5,"form",1),e.NdJ("ngSubmit",function(){return t.saveProfile(t.profileForm.value)}),e.TgZ(6,"div",2)(7,"label",3),e._uU(8,"First Name:"),e.qZA(),e.YNc(9,v,2,0,"em",4),e.YNc(10,N,2,0,"em",4),e._UZ(11,"input",5),e.qZA(),e.TgZ(12,"div",2)(13,"label",6),e._uU(14,"Last Name:"),e.qZA(),e.YNc(15,h,2,0,"em",4),e._UZ(16,"input",7),e.qZA(),e.TgZ(17,"button",8),e._uU(18,"Save"),e.qZA(),e.TgZ(19,"button",9),e.NdJ("click",function(){return t.cancel()}),e._uU(20,"Cancel"),e.qZA(),e.TgZ(21,"button",10),e.NdJ("click",function(){return t.logout()}),e._uU(22,"Logout"),e.qZA()()()()),2&o&&(e.xp6(5),e.Q6J("formGroup",t.profileForm),e.xp6(1),e.Q6J("ngClass",e.VKq(6,g,!t.validateFirstName())),e.xp6(3),e.Q6J("ngIf",!t.validateFirstName()&&t.profileForm.controls.firstName.errors.required),e.xp6(1),e.Q6J("ngIf",!t.validateFirstName()&&t.profileForm.controls.firstName.errors.pattern),e.xp6(2),e.Q6J("ngClass",e.VKq(8,g,!t.validateLastName())),e.xp6(3),e.Q6J("ngIf",!t.validateLastName()))},dependencies:[c.mk,c.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u],styles:["em[_ngcontent-%COMP%]{float:right;color:#e05c65;padding-left:10px}.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#e3c3c5}.error[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#999}error[_ngcontent-%COMP%]::-moz-placeholder{color:#999}error[_ngcontent-%COMP%]:ms-input-placeholder{color:#999}"]});class u{constructor(o,t){this.authService=o,this.router=t,this.loginInvalid=!1}login(o){this.authService.loginUser(o.userName,o.password).subscribe(t=>{t?this.router.navigate(["events"]):this.loginInvalid=!0})}cancel(){this.router.navigate(["events"])}}u.\u0275fac=function(o){return new(o||u)(e.Y36(d.e8),e.Y36(p.F0))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-login"]],decls:23,vars:4,consts:[[1,"col-md-4"],["autocomplete","off",3,"ngSubmit"],["loginForm","ngForm"],[1,"form-group"],["for","userName"],[4,"ngIf"],["required","","name","userName","id","userName","type","text","placeholder","User Name...",1,"form-control",3,"ngModel"],["for","password"],["id","password","required","","type","password","name","password","placeholder","Password...",1,"form-control",3,"ngModel"],[3,"mouseenter","mouseleave"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-default",3,"click"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"]],template:function(o,t){if(1&o){const i=e.EpF();e.TgZ(0,"h1"),e._uU(1,"Login"),e.qZA(),e._UZ(2,"hr"),e.TgZ(3,"div",0)(4,"form",1,2),e.NdJ("ngSubmit",function(){e.CHM(i);const U=e.MAs(5);return e.KtG(t.login(U.value))}),e.TgZ(6,"div",3)(7,"label",4),e._uU(8,"User Name:"),e.qZA(),e.YNc(9,Z,2,0,"em",5),e.TgZ(10,"input",6),e.NdJ("ngModel",function(){return t.userName}),e.qZA()(),e.TgZ(11,"div",3)(12,"label",7),e._uU(13,"Password:"),e.qZA(),e.YNc(14,C,2,0,"em",5),e.TgZ(15,"input",8),e.NdJ("ngModel",function(){return t.password}),e.qZA()(),e.TgZ(16,"span",9),e.NdJ("mouseenter",function(){return t.mouseoverLogin=!0})("mouseleave",function(){return t.mouseoverLogin=!1}),e.TgZ(17,"button",10),e._uU(18,"Login"),e.qZA()(),e.TgZ(19,"button",11),e.NdJ("click",function(){return t.cancel()}),e._uU(20,"Cancel"),e.qZA()(),e._UZ(21,"br"),e.YNc(22,b,2,0,"div",12),e.qZA()}if(2&o){const i=e.MAs(5);e.xp6(9),e.Q6J("ngIf",(null==i.controls.userName?null:i.controls.userName.invalid)&&((null==i.controls.userName?null:i.controls.userName.touched)||t.mouseoverLogin)),e.xp6(5),e.Q6J("ngIf",(null==i.controls.password?null:i.controls.password.invalid)&&((null==i.controls.password?null:i.controls.password.touched)||t.mouseoverLogin)),e.xp6(3),e.Q6J("disabled",i.invalid),e.xp6(5),e.Q6J("ngIf",t.loginInvalid)}},dependencies:[c.O5,n._Y,n.Fj,n.JJ,n.JL,n.Q7,n.On,n.F],styles:["em[_ngcontent-%COMP%]{float:right;color:#e05c65;padding-left:10px}"]});const T=[{path:"profile",component:a},{path:"login",component:u}];class l{}l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[c.ez,n.u5,n.UX,p.Bz.forChild(T)]})}}]);